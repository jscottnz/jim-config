<ion-view view-title="Workouts">

    <ion-nav-bar class="bar-balanced">
        <ion-nav-back-button></ion-nav-back-button>
    </ion-nav-bar>

    <ion-nav-buttons side="secondary">
        <button class="button button-clear icon icon-right" ng-click="save()" ng-class="(isPebble ? 'ion-android-watch' : 'ion-ios-cloud-upload-outline' )"></button>
    </ion-nav-buttons>
 	<ion-content>

 		<ul>
		    <li class="item item-calm">
		      {{workout.name}}
		    </li>
		</ul>
        <div class="calm">
            <button class="button button-calm button-clear icon icon-right ion-plus-round" ng-click="showAddNew(workout)"></button>
            <button class="button button-calm button-clear icon icon-right ion-shuffle" ng-click="showReorder = !showReorder"></button>
            <button class="button button-calm button-clear icon icon-right ion-help" ng-click="showHelp()"></button>
        </div>

        <canvas id="testChart" class="chart chart-line" chart-data="chart.data.d" chart-labels="chart.data.l" chart-options="chart.data.o" style="margin-top:20px"></canvas>


        <div class="list card" ng-if="!workout.days || (workout.days && !workout.days.length) || sampleWorkoutAdded">
            <div class="item item-thumbnail-left item-text-wrap">
                <img src="images/avatar.jpg">
                <h2>This is your Routine</h2>
                <p>It is made up of 1 or more Workouts</p>
                <p ng-if="!workout.days">Lets add a new Workout to this Routine</p>
            </div>
            <div class="item item-text-wrap">
                <p><b>This screen lists your workouts for this routine</b>. You might have a workout per week day or maybe per body section - it's up to you</p>
                <p><b>Before performing a workout</b> you need to: <ul><li>come to this screen <b>in your Pebble App</b></li> <li>use the <span class="icon icon-right ion-android-done" style="black"></span> button to <b>choose the workout</b></li> <li>Use the <span class="icon icon-right ion-android-watch" style="black"></span> button to <b>save the workout to the watch</b></li></ul></p>
            </div>
        </div>

		<ion-list can-swipe="true" delegate-handle="days" show-reorder="showReorder">
 			<ion-item class="item-icon-left item-icon-right" ng-repeat="day in workout.days" ng-click="gotoDay({day : day, days : workout.days})">
 				<i class="icon ion-android-done" ng-class="{ balanced : day == dataService.chosenDay }" ng-click="chooseDay(day); $event.stopPropagation();"></i>
 				<h2>
		    		{{day.name}}
			    </h2>
			    <p ng-if="day.exercises.length == 0">Add some Exercises</p>
			    <p ng-if="day.exercises.length != 0">{{day.exercises.length}} Exercises</p>

			    <i class="button button-icon icon ion-chevron-left" style="opacity : 0.1;"></i>

			    <ion-option-button class="button-positive" ng-click="editDayName(day)">
			      Rename
			    </ion-option-button>
			    <ion-option-button class="button-assertive" ng-click="deleteDay(workout, day)">
			      Delete
			    </ion-option-button>
			    <ion-reorder-button class="ion-navicon" on-reorder="reorderItem(workout.days, $fromIndex, $toIndex)"></ion-reorder-button>
 			</ion-item>
 		</ion-list>
 	</ion-content>

</ion-view>
